(this["webpackJsonpdashboard-mindicador-sd"]=this["webpackJsonpdashboard-mindicador-sd"]||[]).push([[0],{195:function(e,t,a){},196:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a(32),n=a.n(c),s=a(5),i=a(0),d=function(e){var t=e.error;return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Error in dashboard:"}),Object(i.jsx)("p",{children:t})]})},o=a(11),b=a(6),l=a(7),j=function(){var e=Object(r.useState)(0),t=Object(o.a)(e,2),a=t[0],c=t[1],n=Object(s.c)((function(e){return e.api})),d=n.data,j=n.isTime;return Object(r.useEffect)((function(){if(d){var e=setInterval((function(){var e=new Date;e.setMinutes(e.getMinutes()+1),c(e.getMinutes())}),6e4);return function(){clearInterval(e),c(0)}}}),[d,c,j]),Object(i.jsx)("div",{children:Object(i.jsxs)("p",{className:"text-white-50 ml-5 text-center",children:[Object(i.jsx)(b.a,{icon:l.f})," \xdaltima actualizaci\xf3n hace",1===a?" "+a+" minuto":" "+a+" minutos"]})})},u=a(3),O=a(21);O.a.defaults.font.weight="bold",O.a.defaults.font.size=13,O.a.defaults.color="rgb(255,255,255,.5)";var x=function(e){var t=e.groupUnitType,a=e.groupData,r={labels:[],datasets:[{label:"# of Votes",data:[],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]};return a&&a.forEach((function(e){Object.values(e).forEach((function(e){r.labels.push(e.nombre),r.datasets[0].data.push(e.valor)}))})),Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"text-center mw-100",style:{width:"20rem"},children:[Object(i.jsx)("h2",{className:"h5 fw-bold",children:t.toUpperCase()}),Object(i.jsx)("div",{className:"bg-dark rounded shadow-sm p-3",children:Object(i.jsx)(O.b,{data:r})})]})})},h=function(e){var t=e.indicator;return Object(i.jsx)("div",{className:"w-25 p-1",style:{minWidth:"10rem"},children:t&&Object(i.jsxs)("div",{className:"card text-center fw-bold bg-dark",children:[Object(i.jsx)("p",{className:"card-title text-white-50 pt-1",children:t.nombre}),Object(i.jsxs)("div",{className:"card-footer",children:["Porcentaje"===t.unidad_medida&&Object(i.jsxs)("div",{className:"text-secondary",children:[t.valor+" ",Object(i.jsx)(b.a,{icon:l.e})]}),("D\xf3lar"===t.unidad_medida||"Pesos"===t.unidad_medida)&&Object(i.jsxs)("div",{className:"text-secondary",children:[Object(i.jsx)(b.a,{icon:l.b})," "+t.valor," ",t.unidad_medida]})]})]})})},m=["Porcentaje","D\xf3lar","Pesos"],p=function(){var e=Object(r.useState)({}),t=Object(o.a)(e,2),a=t[0],c=t[1],n=Object(s.c)((function(e){return e.api})).data;return Object(r.useEffect)((function(){n&&c(function(e,t){var a=t.map((function(t){return Object.entries(e).map((function(a){var r,c=Object(o.a)(a,2),n=c[0],s=c[1];return(null===(r=e[n])||void 0===r?void 0:r.unidad_medida)===t&&Object(u.a)({},n,s)})).filter((function(e){return!1!==e}))}));return{percent:a[0],dollar:a[1],pesos:a[2]}}(n,m))}),[n]),Object(i.jsx)(i.Fragment,{children:n&&Object(i.jsxs)("div",{className:"row row-cols-1 gap-3",children:[Object(i.jsxs)("div",{className:"col bg-secondary p-2 border border-2 border-secondary container rounded w-75",children:[Object(i.jsx)("h2",{className:"text-dark  h5 pb-2 border-bottom fw-bold border-2 border-dark fw-bold",children:"VALORES ACTUALES"}),Object(i.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-wrap",children:[Object(i.jsx)(h,{indicator:n.libra_cobre}),Object(i.jsx)(h,{indicator:n.tasa_desempleo}),Object(i.jsx)(h,{indicator:n.imacec}),Object(i.jsx)(h,{indicator:n.euro}),Object(i.jsx)(h,{indicator:n.dolar}),Object(i.jsx)(h,{indicator:n.dolar_intercambio}),Object(i.jsx)(h,{indicator:n.uf}),Object(i.jsx)(h,{indicator:n.utm}),Object(i.jsx)(h,{indicator:n.bitcoin})]})]}),Object(i.jsxs)("div",{className:"col bg-secondary p-2 border border-2 border-secondary container rounded w-75",children:[Object(i.jsx)("h2",{className:"text-dark h5 pb-2 border-bottom fw-bold border-2 border-dark fw-bold",children:"GRAF. POR UNIDAD DE MEDIDA"}),Object(i.jsxs)("div",{className:"d-flex justify-content-evenly align-items-center flex-wrap",children:[Object(i.jsx)(x,{groupUnitType:m[0],groupData:a.percent}),Object(i.jsx)(x,{groupUnitType:m[1],groupData:a.dollar}),Object(i.jsx)(x,{groupUnitType:m[2],groupData:a.pesos})]})]})]})})},f=function(){var e=Object(s.c)((function(e){return e.api})).error;return Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{className:"text-white-50 mt-3 text-center",children:"Tablero"}),Object(i.jsx)(j,{}),e?Object(i.jsx)(d,{error:e}):Object(i.jsx)(p,{})]})},v=a(49),g=a.n(v),N=a(73),w="[API] Set updated information on the dashboard",y="[API] Update the data by fetching per hour",E="[UI] Set on/off loading state app",k=function(e){return{type:E,payload:{loading:e}}},I=function(e){return{type:y,payload:{isTime:e}}},T=function(e,t){return{type:w,payload:{data:e,error:t}}},_=function(){return Object(i.jsxs)("div",{className:"text-center text-white-50 bg-secondary rounded p-2 h-100",style:{width:"15rem"},children:[Object(i.jsx)("h2",{className:"pb-5 border-bottom border-2 border-dark text-dark",children:"Navegaci\xf3n"}),Object(i.jsxs)("ul",{className:"navbar-nav",children:[Object(i.jsx)("li",{className:"mb-2",children:Object(i.jsxs)("button",{className:"text-start btn btn-dark w-100",children:[Object(i.jsx)(b.a,{icon:l.h}),Object(i.jsx)("span",{className:"",children:" CLIENTES"})]})}),Object(i.jsx)("li",{className:"mb-2",children:Object(i.jsxs)("button",{className:"text-start btn btn-dark w-100",children:[Object(i.jsx)(b.a,{icon:l.c}),Object(i.jsx)("span",{className:"",children:" INFORMACI\xd3N"})]})}),"        ",Object(i.jsx)("li",{className:"mb-2",children:Object(i.jsxs)("button",{className:"text-start btn btn-dark w-100",children:[Object(i.jsx)(b.a,{icon:l.g}),Object(i.jsx)("span",{className:"",children:" TAREAS"})]})}),"        ",Object(i.jsx)("li",{className:"mb-2",children:Object(i.jsxs)("button",{className:"text-start btn btn-dark w-100",children:[Object(i.jsx)(b.a,{icon:l.a}),Object(i.jsx)("span",{className:"",children:" VALORES FRECUENTES"})]})}),"        ",Object(i.jsx)("li",{className:"mb-2",children:Object(i.jsxs)("button",{className:"text-start btn btn-dark w-100",children:[Object(i.jsx)(b.a,{icon:l.d}),Object(i.jsx)("span",{className:"",children:" NOTIFICACIONES"})]})})]})]})},D=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.api})).isTime,a="https://mindicador.cl/api";Object(r.useEffect)((function(){e(function(e){return function(){var t=Object(N.a)(g.a.mark((function t(a){var r,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(k(!0)),t.next=4,fetch(e);case 4:return r=t.sent,t.next=7,r.json();case 7:c=t.sent,a(T(c,null)),a(k(!1)),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),a(T(null,t.t0)),a(k(!1));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}(a));var t=setInterval((function(){e(I(!0))}),36e5);return e(I(!1)),function(){return clearInterval(t)}}),[a,e,t]);var c=Object(s.c)((function(e){return e.ui})).loading;return Object(i.jsxs)("div",{className:"bg-dark vh-100 row",children:[Object(i.jsx)("section",{className:"col-2 d-xl-block d-none",children:Object(i.jsx)(_,{})}),Object(i.jsx)("section",{className:"col-xl-10 col-12",children:c?Object(i.jsx)("p",{children:"Cargando..."}):Object(i.jsx)(f,{})})]})},S=(a(194),a(195),a(17)),A=a(74),C=a(4),U=Object(S.b)({api:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(C.a)(Object(C.a)({},e),{},{data:t.payload.data,error:t.payload.error});case y:return Object(C.a)(Object(C.a)({},e),{},{isTime:t.payload.isTime});default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(C.a)(Object(C.a)({},e),{},{loading:t.payload.loading});default:return e}}}),P="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||S.c,R=Object(S.d)(U,P(Object(S.a)(A.a)));n.a.render(Object(i.jsx)(s.a,{store:R,children:Object(i.jsx)(D,{})}),document.getElementById("root"))}},[[196,1,2]]]);
//# sourceMappingURL=main.0cd571b5.chunk.js.map